<!DOCTYPE html>
<html>
<head>
  <title>FreeImage.host Uploader</title>
</head>
<body>
  <h2>Upload Image to FreeImage.host</h2>
  <input type="file" id="imageInput">
  <button onclick="uploadImage()">Upload</button>

  <p id="status"></p>
  <img id="preview" src="" alt="Preview" style="max-width: 300px; margin-top: 10px; display:none;">

  <script>
    const apiKey = "chv_NVV8_01d12ddb7a14b60578f1eaca7261c654f7e98b9c40e63c8fc6ebd8da2e88796ae03a1e4dcc623e9603952fa88122d39b70ead7b481843d023606815004fd5822"; // Replace with your actual key

    async function uploadImage() {
      const input = document.getElementById("imageInput");
      const file = input.files[0];
      if (!file) {
        alert("Please choose a file.");
        return;
      }

      const formData = new FormData();
      formData.append("source", file);

      const res = await fetch("https://freeimage.host/api/1/upload", {
        method: "POST",
        headers: {
          "X-API-Key": apiKey
        },
        body: formData
      });

      const data = await res.json();
      if (data.status_code === 200) {
        const imageUrl = data.image.url;
        document.getElementById("status").innerText = "Uploaded successfully!";
        const img = document.getElementById("preview");
        img.src = imageUrl;
        img.style.display = "block";
      } else {
        document.getElementById("status").innerText = "Upload failed: " + data.error.message;
      }
    }
  </script>
</body>
</html>
